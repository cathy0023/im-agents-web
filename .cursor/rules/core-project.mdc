---
alwaysApply: true
---

# IM Agents Web é¡¹ç›®æ ¸å¿ƒè§„åˆ™

## ğŸ¯ é¡¹ç›®æŠ€æœ¯æ ˆ
è¿™æ˜¯ä¸€ä¸ªåŸºäº **React + TypeScript + Vite + Tailwind CSS + shadcn UI + zustand + axios + react-i18next** çš„ç°ä»£åŒ– Web åº”ç”¨ã€‚

## ğŸ“¦ é¡¹ç›®ç»“æ„
- ä¸»å…¥å£: [src/main.tsx](mdc:src/main.tsx)
- åº”ç”¨æ ¹ç»„ä»¶: [src/App.tsx](mdc:src/App.tsx)
- ä¸»è¦é…ç½®æ–‡ä»¶:
  - [package.json](mdc:package.json) - é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
  - [components.json](mdc:components.json) - shadcn UI é…ç½®
  - [tsconfig.json](mdc:tsconfig.json) - TypeScript é…ç½®
  - [vite.config.ts](mdc:vite.config.ts) - Vite æ„å»ºé…ç½®

## ğŸ—‚ï¸ ç›®å½•ç»“æ„è§„èŒƒ
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/              # shadcn UI ç»„ä»¶ (æœ€é«˜ä¼˜å…ˆçº§)
â”‚   â”œâ”€â”€ [ä¸šåŠ¡ç»„ä»¶].tsx   # ä¸šåŠ¡é€»è¾‘ç»„ä»¶
â”œâ”€â”€ i18n/               # å›½é™…åŒ–é…ç½®å’Œç¿»è¯‘èµ„æº
â”‚   â”œâ”€â”€ index.ts        # i18n é…ç½®å…¥å£
â”‚   â”œâ”€â”€ types.ts        # å›½é™…åŒ–ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ resources/      # ç¿»è¯‘èµ„æºæ–‡ä»¶
â”‚       â”œâ”€â”€ zh/         # ä¸­æ–‡ç¿»è¯‘
â”‚       â”œâ”€â”€ en/         # è‹±æ–‡ç¿»è¯‘
â”‚       â””â”€â”€ ar/         # é˜¿æ‹‰ä¼¯æ–‡ç¿»è¯‘
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useI18n.ts      # å›½é™…åŒ–è‡ªå®šä¹‰ Hook
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ utils.ts         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api.ts          # API æ¥å£
â”‚   â””â”€â”€ sse.ts          # Server-Sent Events
â”œâ”€â”€ store/              # zustand çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ i18nStore.ts    # å›½é™…åŒ–çŠ¶æ€ç®¡ç†
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ assets/             # é™æ€èµ„æº
```

## ğŸ¨ **CRITICAL: shadcn UI ç»„ä»¶ä¼˜å…ˆçº§**
**å¿…é¡»ä¼˜å…ˆä½¿ç”¨ shadcn UI ç»„ä»¶ï¼Œè¿™æ˜¯é¡¹ç›®çš„æ ¸å¿ƒè¦æ±‚ï¼**

1. **ç¬¬ä¸€é€‰æ‹©**: ä½¿ç”¨ç°æœ‰çš„ shadcn UI ç»„ä»¶ 
   - å‚è€ƒ: [src/components/ui/](mdc:src/components/ui/)
   - å¦‚ [Button](mdc:src/components/ui/button.tsx), [Card](mdc:src/components/ui/card.tsx), [Input](mdc:src/components/ui/input.tsx)

2. **ç¬¬äºŒé€‰æ‹©**: é€šè¿‡ **MCP shadcn æ–¹å¼**ï¼ˆä¼˜å…ˆï¼‰æœç´¢å’Œæ·»åŠ æ–°çš„ shadcn ç»„ä»¶
   - AI è‡ªåŠ¨ä½¿ç”¨ MCP å·¥å…·æœç´¢ã€æŸ¥çœ‹å’Œè·å–ç»„ä»¶
   - è·å–å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
   - è‡ªåŠ¨ç”Ÿæˆæ­£ç¡®çš„å®‰è£…å‘½ä»¤

3. **ç¬¬ä¸‰é€‰æ‹©**: é€šè¿‡ `npx shadcn@latest add [component]` ç›´æ¥æ·»åŠ ç»„ä»¶

4. **æœ€åé€‰æ‹©**: ä»…åœ¨ shadcn æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶æ‰åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶

## ğŸ”„ çŠ¶æ€ç®¡ç†
ä½¿ç”¨ zustand è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œå‚è€ƒ [src/store/chatStore.ts](mdc:src/store/chatStore.ts)

## ğŸŒ API æ¥å£
ç»Ÿä¸€åœ¨ [src/lib/api.ts](mdc:src/lib/api.ts) ä¸­ç®¡ç† API è°ƒç”¨

## ğŸ“ ç±»å‹å®šä¹‰
æ‰€æœ‰ TypeScript ç±»å‹å®šä¹‰é›†ä¸­åœ¨ [src/types/](mdc:src/types/) ç›®å½•ä¸‹

## ğŸŒ **CRITICAL: å›½é™…åŒ–å¼ºåˆ¶è¦æ±‚**
**æ‰€æœ‰æ–°åŠŸèƒ½å¿…é¡»æ”¯æŒå›½é™…åŒ–ï¼Œè¿™æ˜¯é¡¹ç›®çš„æ ¸å¿ƒè¦æ±‚ï¼**

### å›½é™…åŒ–å¼€å‘åŸåˆ™
- **å¿…é¡»ä½¿ç”¨ `useI18n` Hook è¿›è¡Œç¿»è¯‘**
- **ç¦æ­¢ç¡¬ç¼–ç ä»»ä½•ç”¨æˆ·å¯è§æ–‡æœ¬**
- **å¿…é¡»åŒæ—¶æä¾›ä¸­æ–‡ã€è‹±æ–‡ã€é˜¿æ‹‰ä¼¯æ–‡ä¸‰ç§è¯­è¨€**
- **å¿…é¡»æ”¯æŒ RTL å¸ƒå±€ï¼ˆé˜¿æ‹‰ä¼¯æ–‡ï¼‰**
- **æ‰€æœ‰ç»„ä»¶å¿…é¡»è€ƒè™‘å¤šè¯­è¨€é€‚é…**

### å›½é™…åŒ–æŠ€æœ¯æ ˆ
- **æ ¸å¿ƒåº“**: react-i18next + i18next
- **çŠ¶æ€ç®¡ç†**: zustand (i18nStore)
- **æµè§ˆå™¨æ£€æµ‹**: i18next-browser-languagedetector
- **è‡ªå®šä¹‰ Hook**: useI18n, useI18nMultiple

## âœ… å¼€å‘åŸåˆ™
- ä¸¥æ ¼ä½¿ç”¨ TypeScript
- ä¼˜å…ˆä½¿ç”¨ shadcn UI ç»„ä»¶
- ä½¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼è®¾è®¡
- éµå¾ªç»„ä»¶åŒ–å¼€å‘æ¨¡å¼
- ä¿æŒä»£ç çš„ç±»å‹å®‰å…¨
- **å¼ºåˆ¶æ”¯æŒå›½é™…åŒ–ï¼ˆi18nï¼‰**
- **å¼ºåˆ¶æ”¯æŒä¸»é¢˜åˆ‡æ¢ï¼ˆæµ…è‰²/æ·±è‰²æ¨¡å¼ï¼‰**