---
globs: *.tsx,src/components/**/*.tsx
---

# React ç»„ä»¶å¼€å‘è§„åˆ™

## ğŸ¨ **CRITICAL: shadcn UI ç»„ä»¶ä¼˜å…ˆåŸåˆ™**

### âœ… æ­£ç¡®çš„ç»„ä»¶å¼€å‘æµç¨‹
1. **é¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰ç°æœ‰çš„ shadcn ç»„ä»¶**
   ```typescript
   // âœ… ä¼˜å…ˆä½¿ç”¨ç°æœ‰çš„ shadcn ç»„ä»¶
   import { Button } from "@/components/ui/button"
   import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card"
   import { Input } from "@/components/ui/input"
   ```

2. **å¦‚æœæ²¡æœ‰ï¼Œä½¿ç”¨ MCP æœç´¢å’Œæ·»åŠ  shadcn ç»„ä»¶ï¼ˆä¼˜å…ˆæ–¹å¼ï¼‰**
   ```bash
   # ğŸ¯ ä½¿ç”¨ MCP æœç´¢ç»„ä»¶
   # AI ä¼šè‡ªåŠ¨ä½¿ç”¨ mcp_shadcn_search_items_in_registries æœç´¢
   # AI ä¼šä½¿ç”¨ mcp_shadcn_view_items_in_registries æŸ¥çœ‹ç»„ä»¶è¯¦æƒ…
   # AI ä¼šä½¿ç”¨ mcp_shadcn_get_add_command_for_items è·å–æ·»åŠ å‘½ä»¤
   ```

3. **å¤‡é€‰æ–¹å¼ï¼šç›´æ¥ä½¿ç”¨ npx å‘½ä»¤**
   ```bash
   npx shadcn@latest add [component-name]
   ```

4. **ç»„åˆä½¿ç”¨ç°æœ‰ç»„ä»¶åˆ›å»ºå¤æ‚UI**
   ```typescript
   // âœ… ç»„åˆ shadcn ç»„ä»¶
   const CustomDialog = () => (
     <Dialog>
       <DialogTrigger asChild>
         <Button variant="outline">æ‰“å¼€å¼¹çª—</Button>
       </DialogTrigger>
       <DialogContent>
         <Card>
           <CardHeader>
             <CardTitle>æ ‡é¢˜</CardTitle>
           </CardHeader>
           <CardContent>å†…å®¹</CardContent>
         </Card>
       </DialogContent>
     </Dialog>
   )
   ```

### âŒ ç¦æ­¢çš„åšæ³•
```typescript
// âŒ ç¦æ­¢ï¼šä¸è¦ä½¿ç”¨åŸç”ŸHTMLå…ƒç´ ä»£æ›¿shadcnç»„ä»¶
<button className="bg-blue-500 hover:bg-blue-700">Click me</button>

// âŒ ç¦æ­¢ï¼šä¸è¦é‡å¤åˆ›å»ºå·²æœ‰çš„ç»„ä»¶åŠŸèƒ½
const CustomButton = () => <div className="button-styles">...</div>
```

## ğŸ¯ MCP shadcn ä½¿ç”¨æŒ‡å—

### MCP ç»„ä»¶å‘ç°æµç¨‹
```typescript
// âœ… å½“éœ€è¦æ–°ç»„ä»¶æ—¶ï¼ŒAI ä¼šè‡ªåŠ¨ï¼š
// 1. ä½¿ç”¨ mcp_shadcn_search_items_in_registries æœç´¢ç›¸å…³ç»„ä»¶
// 2. ä½¿ç”¨ mcp_shadcn_view_items_in_registries æŸ¥çœ‹ç»„ä»¶è¯¦æƒ…
// 3. ä½¿ç”¨ mcp_shadcn_get_item_examples_from_registries è·å–ä½¿ç”¨ç¤ºä¾‹
// 4. ä½¿ç”¨ mcp_shadcn_get_add_command_for_items è·å–å®‰è£…å‘½ä»¤
```

### MCP ç»„ä»¶æœç´¢ç¤ºä¾‹
```typescript
// ğŸ” æœç´¢æŒ‰é’®ç›¸å…³ç»„ä»¶
// AI ä¼šæœç´¢: 'button', 'btn', 'action' ç­‰å…³é”®è¯

// ğŸ” æœç´¢è¡¨å•ç›¸å…³ç»„ä»¶  
// AI ä¼šæœç´¢: 'form', 'input', 'select', 'checkbox' ç­‰

// ğŸ” æœç´¢å¸ƒå±€ç»„ä»¶
// AI ä¼šæœç´¢: 'card', 'dialog', 'sheet', 'container' ç­‰
```

### MCP ç¤ºä¾‹è·å–
```typescript
// âœ… AI ä¼šè‡ªåŠ¨è·å–ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹
// ç¤ºä¾‹æ¨¡å¼: 'button-demo', 'card-example', 'form-demo' ç­‰
// è¿™äº›ç¤ºä¾‹åŒ…å«å®Œæ•´çš„å®ç°ä»£ç å’Œæœ€ä½³å®è·µ
```

## ğŸ“‹ ç»„ä»¶å¼€å‘æ¨¡æ¿

### æ ‡å‡†ç»„ä»¶ç»“æ„
```typescript
import React, { forwardRef } from 'react'
import { cn } from '@/lib/utils'

// shadcn UI ç»„ä»¶å¯¼å…¥
import { Button } from '@/components/ui/button'
import { Card } from '@/components/ui/card'

// ç±»å‹å®šä¹‰
interface MyComponentProps {
  className?: string
  children?: React.ReactNode
  // å…¶ä»–props...
}

// ä½¿ç”¨ forwardRef æ”¯æŒ ref ä¼ é€’
const MyComponent = forwardRef<HTMLDivElement, MyComponentProps>(
  ({ className, children, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={cn("base-styles", className)}
        {...props}
      >
        {children}
      </div>
    )
  }
)

MyComponent.displayName = "MyComponent"

export { MyComponent }
```

## ğŸ”„ ç»„ä»¶çŠ¶æ€ç®¡ç†

### ä½¿ç”¨ zustand store
```typescript
// âœ… æ­£ç¡®ï¼šé€‰æ‹©æ€§è®¢é˜…çŠ¶æ€
import { useChatStore } from '@/store/chatStore'

const MyComponent = () => {
  const { messages, addMessage } = useChatStore()
  // åªè®¢é˜…éœ€è¦çš„çŠ¶æ€ç‰‡æ®µ
}
```

### æœ¬åœ°çŠ¶æ€ç®¡ç†
```typescript
// âœ… åˆç†ä½¿ç”¨ useState å¤„ç†æœ¬åœ°çŠ¶æ€
const [isOpen, setIsOpen] = useState(false)
const [inputValue, setInputValue] = useState('')
```

## ğŸ¨ æ ·å¼è§„èŒƒ

### Tailwind CSS ä½¿ç”¨
```typescript
// âœ… ä½¿ç”¨ Tailwind ç±»å
<div className="flex items-center justify-between p-4 bg-white border rounded-lg">

// âœ… ä½¿ç”¨ cn å·¥å…·å‡½æ•°åˆå¹¶æ¡ä»¶æ ·å¼
<div className={cn(
  "base-classes",
  isActive && "active-classes",
  disabled && "disabled-classes"
)}>

// âœ… å“åº”å¼è®¾è®¡
<div className="w-full md:w-1/2 lg:w-1/3">
```

## ğŸ“ TypeScript æœ€ä½³å®è·µ

### Props æ¥å£å®šä¹‰
```typescript
// âœ… æ˜ç¡®çš„ Props ç±»å‹
interface ComponentProps {
  title: string
  isVisible?: boolean
  onClose?: () => void
  className?: string
  children?: React.ReactNode
}
```

### äº‹ä»¶å¤„ç†
```typescript
// âœ… æ­£ç¡®çš„äº‹ä»¶ç±»å‹
const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {
  event.preventDefault()
  // å¤„ç†é€»è¾‘
}

const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
  setValue(event.target.value)
}
```

## ğŸ”§ æ€§èƒ½ä¼˜åŒ–

### React.memo ä½¿ç”¨
```typescript
// âœ… å¯¹çº¯å±•ç¤ºç»„ä»¶ä½¿ç”¨ memo
const ChatMessage = React.memo<ChatMessageProps>(({ message }) => {
  return <div>{message.content}</div>
})
```

### useCallback å’Œ useMemo
```typescript
// âœ… ä¼˜åŒ–å›è°ƒå‡½æ•°
const handleSubmit = useCallback((data: FormData) => {
  // å¤„ç†æäº¤
}, [dependency])

// âœ… ä¼˜åŒ–æ˜‚è´µè®¡ç®—
const filteredData = useMemo(() => 
  data.filter(item => item.isActive),
  [data]
)
```

## ğŸ“¦ å¯¼å…¥é¡ºåºè§„èŒƒ
```typescript
// 1. React ç›¸å…³
import React, { useState, useEffect } from 'react'

// 2. ç¬¬ä¸‰æ–¹åº“
import { clsx } from 'clsx'

// 3. shadcn UI ç»„ä»¶
import { Button } from '@/components/ui/button'

// 4. æœ¬åœ°ç»„ä»¶
import CustomComponent from './CustomComponent'

// 5. å·¥å…·å’Œç±»å‹
import { cn } from '@/lib/utils'
import { MyType } from '@/types'

// 6. Store
import { useStore } from '@/store'
```